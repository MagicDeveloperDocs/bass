(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c62952b"],{"5fed":function(t,n,e){"use strict";e("6e79")},"6e79":function(t,n,e){},"7cf4":function(t,n,e){},c27d:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("section",{staticClass:"farms"},[e("div",{staticClass:"main"},[e("div",{staticClass:"farms-banner center"},[e("div",{staticClass:"farms-banner-cont"},[e("h5",[t._v(t._s(t.$t("魔法大使")))]),e("p",[t._v(t._s(t.$t("销毁NFT获取权益")))])])]),e("div",{staticClass:"farms-info farms-flex"},[e("div",{staticClass:"farms-bet"},[e("span",[t._v(t._s(t.$t("持有 NFT 数量")))]),e("b",[t._v(t._s(t.nftCount))])]),e("div",{staticClass:"farms-bet"},[e("span",[t._v(t._s(t.$t("已销毁NFT")))]),t.burnNftId>0?e("b",[t._v("#"+t._s(t.burnNftId))]):t._e(),t.burnNftId<=0?e("b",[t._v(t._s(t.$t("未销毁")))]):t._e()])]),e("div",{staticClass:"farms-cont"},[t.burnNftId<=0?e("div",{staticClass:"farms-current"},[e("div",{staticClass:"farms-main"},[e("h2",[t._v(t._s(t.$t("请选择需要销毁的NFT")))]),e("div",{staticClass:"farms-select center",on:{click:function(n){t.showOp=!t.showOp}}},[e("input",{attrs:{type:"text",readonly:""},domProps:{value:null!==t.selectNft?"#"+t.selectNft.value:""}}),e("i",{staticClass:"ico ico-alone-bottom"}),t.showOp?e("div",{staticClass:"farms-select-cont anime-fade-in"},t._l(t.nftList,(function(n,a){return e("li",{key:a},[e("a",{on:{click:function(e){return e.stopPropagation(),t.selectOp(n)}}},[e("img",{attrs:{src:n.url}}),e("span",[t._v("#"+t._s(n.value))])])])})),0):t._e()]),t.nftShowApprove?e("a",{staticClass:"btn btn-nft-die",on:{click:t.submitBurnNft}},[t._v(t._s(t.$t("授权"))+" "),e("shadow")]):t._e(),t.nftShowApprove?t._e():e("a",{staticClass:"btn btn-nft-die",on:{click:t.submitBurnNft}},[t._v(t._s(t.$t("销毁"))+" "),e("shadow")])])]):t._e(),t.burnNftId>0?e("div",{staticClass:"farms-nft anime-fade-in"},[e("img",{attrs:{src:t.burnNftUrl}})]):t._e()])])])},s=[],i=e("c7eb"),o=e("1da1"),r=e("ade3"),c=(e("d9e2"),e("99af"),e("ee7a")),l={name:"lock",components:{Notify:c["a"]},data:function(){return{nftCount:0,burnNftId:0,burnNftUrl:"",showOp:!1,nftList:[],selectNft:null,nftShowApprove:!1}},watch:Object(r["a"])({},"$store.state.walletAddress",(function(){this.init()})),methods:{submitBurnNft:function(){var t=this;return Object(o["a"])(Object(i["a"])().mark((function n(){var e;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,t.$loading.show(),!t.nftShowApprove){n.next=8;break}return n.next=5,t.$api.getConnect().tradeApi().setApprovalForAll();case 5:e=n.sent,n.next=13;break;case 8:if(t.selectNft){n.next=10;break}throw new Error(t.$t("请选择NFT"));case 10:return n.next=12,t.$api.getConnect().tradeApi().burnNft(t.selectNft.value);case 12:e=n.sent;case 13:return n.next=15,e.confirm();case 15:return t.$toast(t.$t("操作成功")),n.next=18,t.init(!1);case 18:n.next=23;break;case 20:n.prev=20,n.t0=n["catch"](0),t.$toast(n.t0.message);case 23:return n.prev=23,t.$loading.hide(),n.finish(23);case 26:case"end":return n.stop()}}),n,null,[[0,20,23,26]])})))()},selectOp:function(t){this.selectNft=t,this.showOp=!1},init:function(){var t=arguments,n=this;return Object(o["a"])(Object(i["a"])().mark((function e(){var a,s;return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=!(t.length>0&&void 0!==t[0])||t[0],!n.$store.state.walletConnect){e.next=22;break}return e.prev=2,a&&n.$loading.show(),e.next=6,n.$api.getConnect().tradeApi().nftInfo(n.$store.state.walletAddress);case 6:s=e.sent,n.nftCount=s.mgpNFT.balanceOf,n.burnNftId=s.recommend.burnNftMapping,n.burnNftUrl="".concat(n.$api.getConnect().addressInfo.nftPath,"/").concat(s.recommend.burnNftMapping,".png"),n.nftShowApprove=s.nftShowApprove,n.nftList=s.nfts,e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](2),n.$toast(e.t0.message);case 19:return e.prev=19,a&&n.$loading.hide(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,15,19,22]])})))()}},mounted:function(){this.init()}},u=l,f=e("2877"),d=Object(f["a"])(u,a,s,!1,null,"98fc0000",null);n["default"]=d.exports},ee7a:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("van-notify",{staticStyle:{opacity:"0.8"},attrs:{type:"success",background:"#2464f6"},model:{value:t.notify.show,callback:function(n){t.$set(t.notify,"show",n)},expression:"notify.show"}},[e("div",{staticClass:"flex align-center justify-between notify"},[e("a",{staticClass:"link flex align-center justify-between",attrs:{href:t.etherscan,target:"_blank"}},[e("div",{staticClass:"flex align-center left bbo"},[e("van-icon",{staticClass:"right",attrs:{name:"passed"}}),e("span",{staticClass:"ellipsis"},[t._v(" "+t._s(t.notify.tx))])],1),e("van-icon",{staticClass:"right",attrs:{name:"arrow"}})],1)])])],1)},s=[],i=(e("3cd0"),e("1a44"),e("acc2"),e("ad06")),o=(e("1812"),e("5e5e"),e("7cf4"),e("c31d")),r=e("2b0e"),c=e("2638"),l=e.n(c),u=e("d282"),f=e("ba31"),d=e("6605"),p=e("e41f"),b=Object(u["a"])("notify"),v=b[0],m=b[1];function h(t,n,e,a){var s={color:n.color,background:n.background};return t(p["a"],l()([{attrs:{value:n.value,position:"top",overlay:!1,duration:.2,lockScroll:!1},style:s,class:[m([n.type]),n.className]},Object(f["a"])(a,!0)]),[(null==e.default?void 0:e.default())||n.message])}h.props=Object(o["a"])({},d["b"],{color:String,message:[Number,String],duration:[Number,String],className:null,background:String,getContainer:[String,Function],type:{type:String,default:"danger"}});var g,w,C=v(h),_=e("a142");function N(t){return Object(_["e"])(t)?t:{message:t}}function O(t){if(!_["f"])return w||(w=Object(f["b"])(C,{on:{click:function(t){w.onClick&&w.onClick(t)},close:function(){w.onClose&&w.onClose()},opened:function(){w.onOpened&&w.onOpened()}}})),t=Object(o["a"])({},O.currentOptions,N(t)),Object(o["a"])(w,t),clearTimeout(g),t.duration&&t.duration>0&&(g=setTimeout(O.clear,t.duration)),w}function y(){return{type:"danger",value:!0,message:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:null,onClick:null,onOpened:null}}O.clear=function(){w&&(w.value=!1)},O.currentOptions=y(),O.setDefaultOptions=function(t){Object(o["a"])(O.currentOptions,t)},O.resetDefaultOptions=function(){O.currentOptions=y()},O.install=function(){r["a"].use(C)},O.Component=C,r["a"].prototype.$notify=O;var k=O,$=e("365c"),x={name:"notify",components:{"van-notify":k.Component,"van-icon":i["a"]},computed:{etherscan:function(){return $["a"].goEtherscanTx(this.notify.tx)}},data:function(){return{notify:{show:!1,tx:""}}},methods:{show:function(t){var n=this;this.notify.tx=t,this.notify.show=!0,setTimeout((function(){n.notify.show=!1}),5e3)}}},j=x,S=(e("5fed"),e("2877")),A=Object(S["a"])(j,a,s,!1,null,"7ca36873",null);n["a"]=A.exports}}]);